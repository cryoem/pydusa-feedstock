{% set version = "2.1" %}
{% set tag = "v" + version %}

package:
    name: pydusa
    version: {{ version }}

source:
    url: https://github.com/cryoem/pydusa/archive/{{ tag }}.tar.gz
    fn: pydusa-{{ tag }}.tar.gz

build:
    number: 4
    skip: True  # [win or py<37]

requirements:
    build:
        - {{ compiler('c') }}
        - sysroot_linux-64 2.17  # [linux64]
    host:
        - python
        - numpy
        - openmpi 4
        - fftw 3.* mpi_openmpi_*
    run:
        {% for package in resolved_packages('host') %}
        - {{ package }}
        {% endfor %}

test:
  imports:
    - mpi

about:
  license: GPL-2.0
  summary: Pydusa is a package for parallel programming using Python.
